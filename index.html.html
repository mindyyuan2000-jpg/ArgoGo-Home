<html lang="zh-CN">
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Argogo - æˆ‘çš„ç§äººåŠ©æ‰‹</title>
    <script src="https://res.gemcoder.com/js/reload.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
                  theme: {
                      extend: {
                          colors: {
                              fog: {
                                  50: '#f8fafc',
                                  100: '#f1f5f9',
                                  200: '#e2e8f0',
                                  300: '#cbd5e1',
                                  400: '#94a3b8',
                                  500: '#64748b',
                                  600: '#475569',
                                  700: '#334155',
                                  800: '#1e293b',
                                  900: '#0f172a',
                              },
                          },
                          fontFamily: {
                              sans: ['Inter', 'system-ui', 'sans-serif'],
                          },
                          backgroundImage: {
                              'cloud-pattern': "url('https://picsum.photos/id/1015/1920/1080')",
                          }
                      },
                  }
              }
    </script>
    <style type="text/tailwindcss">
              @layer utilities {
                  .content-auto {
                      content-visibility: auto;
                  }
                  .backdrop-blur-xs {
                      backdrop-filter: blur(2px);
                  }
                  .text-shadow-sm {
                      text-shadow: 0 1px 2px rgba(0,0,0,0.1);
                  }
                  .bg-cloudy {
                      background-color: rgba(248, 250, 252, 0.85);
                      background-image:
                          radial-gradient(circle at 10% 20%, rgba(224, 224, 224, 0.1) 0%, transparent 20%),
                          radial-gradient(circle at 90% 80%, rgba(224, 224, 224, 0.1) 0%, transparent 20%);
                  }
                  .glass-effect {
                      background: rgba(255, 255, 255, 0.75);
                      backdrop-filter: blur(8px);
                      -webkit-backdrop-filter: blur(8px);
                      border: 1px solid rgba(255, 255, 255, 0.18);
                      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
                  }
                  .frosted-card {
                      background: rgba(248, 250, 252, 0.85);
                      backdrop-filter: blur(10px);
                      border: 1px solid rgba(226, 232, 240, 0.5);
                      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
                      border-radius: 12px;
                  }
      .animate-pulse {
                      animation: pulse 1.2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
                  }
                  @keyframes pulse {
                      0%, 100% { opacity: 1; }
                      50% { opacity: 0; }
                  }
              }
    </style>
  </head>
  <body class="min-h-screen bg-cloudy font-sans text-fog-800 overflow-x-hidden">
    <!-- äº‘å±‚çº¹ç†èƒŒæ™¯ -->
    <div
      class="fixed inset-0 bg-cloud-pattern bg-cover bg-center opacity-10 -z-10"
    ></div>
    <div class="container mx-auto px-4 py-6 max-w-7xl">
      <!-- é¡¶éƒ¨æ ‡è¯­ -->
      <div class="text-center mb-6">
        <h1
          class="text-[clamp(1.75rem,4vw,2.5rem)] font-light text-fog-700 tracking-wide"
        >
          å¼€å¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©
          <span class="animate-pulse"> | </span>
        </h1>
      </div>
      <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
      <header class="frosted-card mb-6 p-4 flex justify-between items-center">
        <div class="flex items-center space-x-3">
          <div
            class="w-10 h-10 rounded-full bg-gradient-to-br from-fog-400 to-fog-600 flex items-center justify-center text-white"
          >
            <i class="fas fa-feather-alt text-xl"> </i>
          </div>
          <h1 class="text-2xl font-light tracking-wide text-fog-700">
            Argogo
            <span class="font-medium text-fog-900"> åŠ©æ‰‹ </span>
          </h1>
        </div>
        <div class="flex items-center space-x-4">
          <button class="p-2 rounded-full hover:bg-fog-100 transition-colors">
            <i class="fas fa-cog text-fog-500"> </i>
          </button>
          <button class="p-2 rounded-full hover:bg-fog-100 transition-colors">
            <i class="fas fa-user-circle text-fog-500"> </i>
          </button>
        </div>
      </header>
      <!-- ä¸»å†…å®¹åŒº -->
      <main class="flex flex-col md:flex-row gap-6">
        <!-- å·¦ä¾§30%åŒºåŸŸ -->
        <div
          class="w-full md:w-3/10 space-y-6"
          data-ytextravalue="extra-acmjqxq07"
        >
          <!-- ç©ºç™½å°æ’ä»¶åŒºåŸŸ -->
<!-- å¤©æ°”å¡ç‰‡ç»“æ„ - ä¿ç•™ä½ çš„åŸå§‹æ ·å¼ -->
<div class="frosted-card p-5 transition-all duration-300 hover:shadow-lg hover:-translate-y-1">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-fog-600 text-sm font-medium flex items-center">
      <i class="fas fa-cloud mr-2 text-fog-400"></i>
      å½“å‰å¤©æ°”
    </h3>
    <span class="text-xs text-fog-400" id="location">
      è·å–ä½ç½®ä¸­...
    </span>
  </div>
  <div class="flex items-center justify-center py-2">
    <div class="text-5xl mr-4" id="weather-icon">
      <i class="fas fa-spinner fa-spin text-fog-400"></i>
    </div>
    <div class="text-center">
      <div class="text-3xl font-light text-fog-800" id="temperature">
        --Â°C
      </div>
      <!-- æ–°å¢ç¥è¯æç¤ºè¡Œ -->
      <div 
        id="myth-message" 
        class="italic text-sm mt-1 transition-all duration-500 hover:scale-105 hover:text-amber-600 cursor-help"
        title="æ¥è‡ªå¥¥æ—åŒ¹æ–¯çš„ç¥è°•"
      >
        <i class="fas fa-temple mr-1"></i> ä¼—ç¥æ­£åœ¨å•†è®®å¤©æ°”...
      </div>
      <div class="text-fog-500 text-sm mt-1" id="weather-desc">
        åŠ è½½ä¸­
      </div>
    </div>
  </div>
</div>

<script>
// ===== å®Œæ•´ç¥è¯å¤©æ°”ç»„ä»¶ =====
document.addEventListener('DOMContentLoaded', initWeather);

async function initWeather() {
  try {
    // 1. è·å–ç”¨æˆ·ä½ç½®
    const position = await getLocation();
    const { latitude, longitude } = position.coords;
    
    // 2. æ˜¾ç¤ºä½ç½®ä¿¡æ¯
    const locationName = await getLocationName(latitude, longitude);
    document.getElementById('location').textContent = locationName;
    
    // 3. è·å–å¤©æ°”æ•°æ®
    const weather = await fetchWeather(latitude, longitude);
    updateWeatherUI(weather, position.timestamp);
    
  } catch (error) {
    console.error('å¤©æ°”åˆå§‹åŒ–å¤±è´¥:', error);
    document.getElementById('weather-desc').textContent = 'è·å–å¤©æ°”å¤±è´¥';
    document.getElementById('myth-message').innerHTML = 
      '<i class="fas fa-exclamation-triangle mr-1"></i> å®™æ–¯å…³é—­äº†å¤©ç•Œä¹‹é—¨';
  }
}

// è·å–åœ°ç†ä½ç½®
function getLocation() {
  return new Promise((resolve, reject) => {
    if (!navigator.geolocation) {
      reject('æµè§ˆå™¨ä¸æ”¯æŒåœ°ç†ä½ç½®');
      return;
    }
    
    navigator.geolocation.getCurrentPosition(
      position => resolve(position),
      error => {
        console.warn('è·å–ä½ç½®å¤±è´¥ï¼Œä½¿ç”¨åŒ—äº¬é»˜è®¤ä½ç½®', error);
        // é»˜è®¤ä½ç½®ï¼šåŒ—äº¬
        resolve({
          coords: { latitude: 39.9042, longitude: 116.4074 },
          timestamp: Date.now()
        });
      }
    );
  });
}

// è·å–ä½ç½®åç§°ï¼ˆä½¿ç”¨OpenStreetMapåå‘åœ°ç†ç¼–ç ï¼‰
async function getLocationName(lat, lng) {
  try {
    const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);
    const data = await response.json();
    return data.address?.city || data.address?.town || data.address?.county || 'æœªçŸ¥ä½ç½®';
  } catch {
    return 'ç¥ç§˜é¢†åŸŸ';
  }
}

// è·å–å¤©æ°”æ•°æ®
async function fetchWeather(lat, lng) {
  const response = await fetch(
    `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lng}&current_weather=true`
  );
  return response.json();
}

// æ›´æ–°å¤©æ°”ç•Œé¢
function updateWeatherUI(weatherData, timestamp) {
  const weather = weatherData.current_weather;
  const temp = weather.temperature;
  const condition = weather.weathercode;
  
  // æ›´æ–°åŸºç¡€æ•°æ®
  document.getElementById('temperature').textContent = `${temp}Â°C`;
  document.getElementById('weather-desc').textContent = getWeatherDesc(condition);
  document.getElementById('weather-icon').innerHTML = getWeatherIcon(condition);
  
  // è·å–ç¥è¯æç¤º
  const mythMsg = getMythMessage(temp, condition);
  document.getElementById('myth-message').innerHTML = `
    <i class="fas fa-temple mr-1"></i> ${mythMsg}
  `;
  
  // åº”ç”¨æ—¥å‡ºæ—¥è½ç‰¹æ•ˆ
  applyTimeEffect(timestamp, weatherData.timezone);
}

// è·å–ç¥è¯æç¤º
function getMythMessage(temp, condition) {
  // æ¸©åº¦æç¤º
  let tempMsg = '';
  if (temp >= 35) tempMsg = 'ğŸ”¥ èµ«è²æ–¯æ‰˜æ–¯çš„ç†”ç‚‰æ­£åœ¨ç‡ƒçƒ§ï¼è®°å¾—å¤šè¡¥æ°´';
  else if (temp >= 30) tempMsg = 'â˜€ï¸ èµ«åˆ©ä¿„æ–¯é©¾ç€æ—¥è½¦é«˜æ‚¬å¤©ç©ºï¼Œæ³¨æ„é˜²æ™’';
  else if (temp >= 25) tempMsg = 'ğŸŒ é˜¿æ³¢ç½—çš„é‡‘å¼“æ•£å‘ç€æ¸©æš–å…‰èŠ’';
  else if (temp >= 15) tempMsg = 'ğŸŒ¸ å¾—å¢¨å¿’å°”çš„ç¥ç¦å¸¦æ¥å®œäººæ¸©åº¦';
  else if (temp >= 5) tempMsg = 'ğŸƒ é£ç¥åŸƒä¿„ç½—æ–¯æ­£åœ¨è½»æ‹‚å¤§åœ°';
  else tempMsg = 'â„ï¸ åŒ—é£ç¥æ³¢ç‘é˜¿æ–¯é€æ¥äº†å¯’æ„';

  // å¤©æ°”æç¤º
  let conditionMsg = '';
  if (condition >= 95) conditionMsg = 'âš¡ å®™æ–¯æŒ¥èˆç€é›·éœ†ï¼è¯·æ³¨æ„å®‰å…¨'; 
  else if (condition >= 85) conditionMsg = 'â„ï¸ ç€è€³å¡ç¦æ¶…ä»å†¥ç•Œå½’æ¥';
  else if (condition >= 45) conditionMsg = 'ğŸŒ«ï¸ å½©è™¹å¥³ç¥ä¼Šé‡Œæ–¯çš„é¢çº±ç¬¼ç½©å¤§åœ°';
  else if (condition >= 10) conditionMsg = 'ğŸŒ§ï¸ å®™æ–¯æ­£åœ¨é™ä¸‹ç”˜éœ²ï¼Œè®°å¾—å¸¦ä¼';
  else conditionMsg = 'â˜ï¸ èµ«æ‹‰ç”¨äº‘æœµè£…é¥°ç€å¤©ç©º';

  return `${tempMsg} ${conditionMsg}`;
}

// æ—¥å‡ºæ—¥è½ç‰¹æ•ˆ
function applyTimeEffect(timestamp, timezone) {
  const date = new Date(timestamp);
  const hours = date.getHours();
  const mythElement = document.getElementById('myth-message');
  
  // æ¸…é™¤ç°æœ‰æ—¶é—´ç±»
  mythElement.classList.remove('text-amber-500', 'text-indigo-400', 'text-rose-400');
  
  // åº”ç”¨æ—¶é—´ç‰¹æ•ˆ
  if (hours >= 6 && hours < 10) {
    // æ¸…æ™¨ç‰¹æ•ˆ
    mythElement.classList.add('text-rose-400');
    mythElement.style.textShadow = '0 0 8px rgba(255, 100, 100, 0.3)';
  } else if (hours >= 10 && hours < 17) {
    // ç™½å¤©ç‰¹æ•ˆ
    mythElement.classList.add('text-amber-500');
    mythElement.style.textShadow = '0 0 8px rgba(255, 165, 0, 0.3)';
  } else {
    // å¤œæ™šç‰¹æ•ˆ
    mythElement.classList.add('text-indigo-400');
    mythElement.style.textShadow = '0 0 8px rgba(75, 85, 199, 0.3)';
  }
}

// å¤©æ°”æè¿°æ˜ å°„ï¼ˆç¤ºä¾‹ï¼‰
function getWeatherDesc(code) {
  const descriptions = {
    0: 'æ™´æœ—',
    1: 'æ™´é—´å¤šäº‘',
    2: 'éƒ¨åˆ†å¤šäº‘',
    3: 'å¤šäº‘',
    45: 'é›¾',
    48: 'å†»é›¾',
    51: 'å°é›¨',
    56: 'å†»é›¨',
    61: 'é›¨',
    66: 'å†»é›¨',
    71: 'å°é›ª',
    73: 'é›ª',
    75: 'å¤§é›ª',
    80: 'é˜µé›¨',
    81: 'å¤§é›¨',
    85: 'å°é›ª',
    86: 'å¤§é›ª',
    95: 'é›·æš´',
    96: 'é›·æš´ä¼´å†°é›¹'
  };
  return descriptions[code] || 'ç¥ç§˜å¤©æ°”';
}

// å¤©æ°”å›¾æ ‡æ˜ å°„
function getWeatherIcon(code) {
  const icons = {
    0: '<i class="fas fa-sun text-yellow-400"></i>',
    1: '<i class="fas fa-cloud-sun text-yellow-300"></i>',
    2: '<i class="fas fa-cloud text-gray-300"></i>',
    3: '<i class="fas fa-cloud text-gray-400"></i>',
    45: '<i class="fas fa-smog text-gray-200"></i>',
    48: '<i class="fas fa-smog text-gray-200"></i>',
    51: '<i class="fas fa-cloud-rain text-blue-300"></i>',
    56: '<i class="fas fa-icicles text-blue-100"></i>',
    61: '<i class="fas fa-cloud-showers-heavy text-blue-400"></i>',
    66: '<i class="fas fa-icicles text-blue-100"></i>',
    71: '<i class="fas fa-snowflake text-blue-100"></i>',
    73: '<i class="fas fa-snowflake text-blue-100"></i>',
    75: '<i class="fas fa-snowplow text-blue-50"></i>',
    80: '<i class="fas fa-poo-storm text-purple-400"></i>',
    81: '<i class="fas fa-cloud-showers-heavy text-blue-500"></i>',
    85: '<i class="fas fa-snowflake text-blue-100"></i>',
    86: '<i class="fas fa-snowplow text-blue-50"></i>',
    95: '<i class="fas fa-bolt text-yellow-300"></i>',
    96: '<i class="fas fa-poo-storm text-purple-500"></i>'
  };
  return icons[code] || '<i class="fas fa-question text-gray-400"></i>';
}

// æ‚¬æµ®åŠ¨ç”»çš„CSSï¼ˆæ·»åŠ åˆ°å…¨å±€æ ·å¼ï¼‰
const style = document.createElement('style');
style.textContent = `
  #myth-message {
    transition: all 0.3s ease;
  }
  #myth-message:hover {
    transform: scale(1.05);
    text-shadow: 0 0 10px currentColor;
  }
`;
document.head.appendChild(style);
</script>
              æ”¾æ¾å°å·¥å…·
            </h3>
            <div
              class="w-full h-3/4 flex items-center justify-center bg-fog-50 rounded-lg mb-4 overflow-hidden"
            >
              <img
                alt="æ”¾æ¾å°å·¥å…·"
                class="w-full h-full object-cover opacity-80"
                src="https://design.gemcoder.com/staticResource/echoAiSystemImages/94fb0dc4b2c30dc8dbcabc2298c91649.png"
              />
            </div>
            <button
              class="w-full py-2 bg-fog-600 hover:bg-fog-700 text-white rounded-lg text-sm transition-colors"
            >
              <i class="fas fa-play-circle mr-1"> </i>
              å¼€å§‹æ”¾æ¾
            </button>
          </div>
          <!-- åè¨€åŒºåŸŸ -->
          <div
            class="frosted-card p-6 transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
            data-ytindex="4"
            data-ytoriginindex="4"
            data-ytparentvalue="extra-81bv72brb"
            style="opacity: 1;"
          >
            <div class="flex flex-col items-center text-center" style>
              <i class="fas fa-quote-left text-4xl text-fog-200 mb-4" style>
              </i>
              <blockquote
                class="text-fog-700 text-lg font-light max-w-md"
                style
              >
                è¡ŒåŠ¨æ˜¯æ€æƒ³çš„é”š
              </blockquote>
              <div class="w-16 h-px bg-fog-200 my-5"></div>
              <div class="flex items-center justify-between w-full">
                <button
                  class="text-fog-500 hover:text-fog-700 transition-colors text-sm flex items-center"
                >
                  <i class="fas fa-refresh mr-1"> </i>
                  æ¢ä¸€å¥
                </button>
                <div class="text-fog-400 text-xs">æ¯æ—¥åè¨€ Â· å¯å‘æ€è€ƒ</div>
                <button
                  class="text-fog-500 hover:text-fog-700 transition-colors text-sm flex items-center"
                >
                  <i class="fas fa-heart mr-1"> </i>
                  æ”¶è—
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- å³ä¾§70%åŒºåŸŸ -->
        <div
          class="w-full md:w-7/10 space-y-6"
          data-ytextravalue="extra-81bv72brb"
        >
          <!-- å¾…åŠäº‹é¡¹æ¸…å• -->
          <div
            class="frosted-card p-5 transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
            data-ytindex="0"
            data-ytoriginindex="1"
            data-ytparentvalue="extra-acmjqxq07"
            style="opacity: 1; color: rgb(30, 41, 59); font-family: Inter, system-ui, sans-serif; font-size: 16px; font-weight: 400; font-style: normal; line-height: 24px; text-align: start; text-indent: 0px;"
          >
            <div class="flex justify-between items-center mb-4" style>
              <h2 class="text-fog-500 text-sm font-medium flex items-center">
                <i class="fas fa-check-circle mr-2"> </i>
                å¾…åŠäº‹é¡¹
              </h2>
              <span
                class="text-xs bg-fog-100 text-fog-600 px-2 py-1 rounded-full"
                id="task-count"
              >
                0é¡¹
              </span>
            </div>
            <div class="space-y-3 max-h-64 overflow-y-auto pr-1" id="todo-list">
              <div class="text-center text-fog-400 text-sm py-8" style>
                <i class="fas fa-clipboard-list text-2xl mb-2 block"> </i>
                æš‚æ— å¾…åŠäº‹é¡¹
              </div>
            </div>
            <div class="mt-4 flex">
              <input
                class="flex-1 px-3 py-2 rounded-l-lg border border-fog-200 focus:outline-none focus:ring-1 focus:ring-fog-400 focus:border-transparent text-sm bg-white/50"
                id="new-task-input"
                placeholder="æ·»åŠ æ–°ä»»åŠ¡..."
                type="text"
              />
              <button
                class="bg-fog-600 hover:bg-fog-700 text-white px-3 rounded-r-lg transition-colors"
                id="add-task-btn"
              >
                <i class="fas fa-plus"> </i>
              </button>
            </div>
          </div>
          <!-- å¿«é€Ÿç¬”è®° -->
          <div
            class="frosted-card p-5 transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
            data-ytextravalue="extra-hn2ezokkc"
            data-ytindex="1"
            data-ytoriginindex="2"
            data-ytparentvalue="extra-acmjqxq07"
            style="opacity: 1; color: rgb(30, 41, 59); font-family: Inter, system-ui, sans-serif; font-size: 16px; font-weight: 400; font-style: normal; line-height: 24px; text-align: start; text-indent: 0px;"
          >
            <h2
              class="text-fog-500 text-sm font-medium mb-4 flex items-center"
              data-ytindex="0"
              data-ytoriginindex="0"
              data-ytparentvalue="extra-hn2ezokkc"
              style="opacity: 1; color: rgb(100, 116, 139); font-family: Inter, system-ui, sans-serif; font-size: 14px; font-weight: 500; font-style: normal; line-height: 20px; text-align: start; text-indent: 0px;"
            >
              <i class="fas fa-sticky-note mr-2"> </i>
              å¿«é€Ÿç¬”è®°
            </h2>
            <textarea
              class="w-full h-40 p-3 bg-white/50 border border-fog-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-fog-400 focus:border-transparent resize-none"
              data-ytindex="1"
              data-ytoriginindex="1"
              id="quick-note"
              placeholder="åœ¨è¿™é‡Œè®°å½•ä½ çš„æƒ³æ³•... å†…å®¹ä¼šè‡ªåŠ¨ä¿å­˜"
              rows="5"
              style
            >
            </textarea>
            <div
              class="text-xs text-fog-400 mt-2 flex justify-between"
              data-ytindex="2"
              data-ytoriginindex="2"
            >
              <span> è‡ªåŠ¨ä¿å­˜ </span>
              <span id="save-status"> å·²ä¿å­˜ </span>
            </div>
          </div>
          <!-- ç¦…æ„å€’è®¡æ—¶ -->
          <div
            class="frosted-card p-5 transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
            data-ytindex="2"
            data-ytoriginindex="0"
            data-ytparentvalue="extra-81bv72brb"
            style="opacity: 1; color: rgb(30, 41, 59); font-family: Inter, system-ui, sans-serif; font-size: 16px; font-weight: 400; font-style: normal; line-height: 24px; text-align: start; text-indent: 0px;"
          >
            <h2
              class="text-fog-500 text-sm font-medium mb-4 flex items-center"
              style
            >
              <i class="fas fa-hourglass-half mr-2"> </i>
              ä¸“æ³¨æ—¶é—´
            </h2>
            <div
              class="flex justify-center items-center py-4"
              id="focus-timer-container"
              style
            >
              <div class="text-center">
                <div
                  class="text-5xl font-light text-fog-800"
                  id="timer-minutes"
                  style
                >
                  45
                </div>
                <div class="text-fog-500 text-sm mt-1" style>åˆ†é’Ÿ</div>
              </div>
              <div class="mx-3 text-fog-300 text-3xl">:</div>
              <div class="text-center">
                <div
                  class="text-5xl font-light text-fog-800"
                  id="timer-seconds"
                >
                  00
                </div>
                <div class="text-fog-500 text-sm mt-1">ç§’</div>
              </div>
            </div>
            <div class="flex justify-center space-x-3 mt-4">
              <button
                class="px-4 py-2 bg-fog-600 hover:bg-fog-700 text-white rounded-lg text-sm transition-colors"
                id="start-timer"
              >
                <i class="fas fa-play mr-1"> </i>
                å¼€å§‹
              </button>
              <button
                class="px-4 py-2 bg-fog-200 hover:bg-fog-300 text-fog-700 rounded-lg text-sm transition-colors"
                id="pause-timer"
                style
              >
                <i class="fas fa-pause mr-1"> </i>
                æš‚åœ
              </button>
              <button
                class="px-4 py-2 bg-fog-200 hover:bg-fog-300 text-fog-700 rounded-lg text-sm transition-colors"
                id="reset-timer"
              >
                <i class="fas fa-sync-alt mr-1"> </i>
                é‡ç½®
              </button>
            </div>
          </div>
          <!-- è®¡ç®—å™¨åŒºåŸŸ -->
          <div
            class="frosted-card p-5 transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
            data-ytindex="3"
            data-ytoriginindex="3"
          >
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-fog-500 text-sm font-medium flex items-center">
                <i class="fas fa-calculator mr-2"> </i>
                è®¡ç®—å™¨
              </h2>
              <button
                class="text-fog-400 hover:text-fog-600 transition-colors"
                id="toggle-calculator"
              >
                <i class="fas fa-chevron-down" id="calculator-icon"> </i>
              </button>
            </div>
            <div id="calculator-content">
              <div class="mb-4 bg-white/50 rounded-lg p-3">
                <input
                  class="w-full text-right py-2 px-3 text-fog-800 text-lg bg-transparent border-none focus:outline-none"
                  id="calculator-display"
                  placeholder="0"
                  readonly
                  type="text"
                />
              </div>
              <div class="grid grid-cols-4 gap-2">
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="7"
                >
                  7
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="8"
                >
                  8
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="9"
                >
                  9
                </button>
                <button
                  class="calc-btn py-3 bg-fog-200 hover:bg-fog-300 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="/"
                >
                  Ã·
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="4"
                >
                  4
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="5"
                >
                  5
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="6"
                >
                  6
                </button>
                <button
                  class="calc-btn py-3 bg-fog-200 hover:bg-fog-300 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="*"
                >
                  Ã—
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="1"
                >
                  1
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="2"
                >
                  2
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="3"
                >
                  3
                </button>
                <button
                  class="calc-btn py-3 bg-fog-200 hover:bg-fog-300 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="-"
                >
                  -
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="0"
                >
                  0
                </button>
                <button
                  class="calc-btn py-3 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="."
                >
                  .
                </button>
                <button
                  class="calc-btn py-3 bg-fog-300 hover:bg-fog-400 text-white rounded-lg text-sm transition-colors"
                  data-value="="
                >
                  =
                </button>
                <button
                  class="calc-btn py-3 bg-fog-200 hover:bg-fog-300 text-fog-700 rounded-lg text-sm transition-colors"
                  data-value="+"
                >
                  +
                </button>
              </div>
              <button
                class="w-full mt-3 py-2 bg-fog-100 hover:bg-fog-200 text-fog-700 rounded-lg text-sm transition-colors"
                id="clear-calculator"
              >
                <i class="fas fa-trash-alt mr-1"> </i>
                æ¸…é™¤
              </button>
            </div>
          </div>
        </div>
      </main>
      <!-- é¡µè„š -->
      <footer class="mt-10 text-center text-fog-400 text-xs py-4">
        <p>Argogo ç§äººåŠ©æ‰‹ Â© 2023 | è½»é‡æ™ºæ„Ÿç”Ÿæ´»</p>
      </footer>
    </div>
    <script>
      // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–æ¸²æŸ“
              document.addEventListener('DOMContentLoaded', () => {
      initTodoList();
                  initQuickNote();
                  initFocusTimer();
                  initCalculator();
              });
              // å¤©æ°”åŠŸèƒ½
              function initWeather() {
                  // è·å–ç”¨æˆ·ä½ç½®
                  if (navigator.geolocation) {
                      navigator.geolocation.getCurrentPosition(position => {
                          const lat = position.coords.latitude;
                          const lon = position.coords.longitude;
                          fetchWeatherData(lat, lon);
                      }, error => {
                          console.error("æ— æ³•è·å–ä½ç½®ä¿¡æ¯:", error);
                          document.getElementById('location').textContent = "æœªçŸ¥ä½ç½®";
                      });
                  } else {
                      document.getElementById('location').textContent = "æµè§ˆå™¨ä¸æ”¯æŒå®šä½";
                  }
              }
              function fetchWeatherData(lat, lon) {
                  // ä½¿ç”¨Open-Meteo APIè·å–å¤©æ°”æ•°æ®
                  const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&timezone=auto`;

                  fetch(url)
                      .then(response => response.json())
                      .then(data => {
                          const temperature = Math.round(data.current_weather.temperature);
                          const weatherCode = data.current_weather.weathercode;
                          const location = data.timezone.split('/')[1] || 'å½“å‰åŸå¸‚';

                          // æ›´æ–°UI
                          document.getElementById('temperature').textContent = `${temperature}Â°C`;
                          document.getElementById('location').textContent = location;

                          // æ ¹æ®å¤©æ°”ä»£ç è®¾ç½®å›¾æ ‡
                          setWeatherIcon(weatherCode);
                      })
                      .catch(error => {
                          console.error("è·å–å¤©æ°”æ•°æ®å¤±è´¥:", error);
                          document.getElementById('location').textContent = "è·å–å¤±è´¥";
                      });
              }
              function setWeatherIcon(code) {
                  const iconElement = document.getElementById('weather-icon');
                  iconElement.className = 'text-5xl';

                  // æ ¹æ®å¤©æ°”ä»£ç è®¾ç½®ä¸åŒå›¾æ ‡
                  if (code >= 0 && code <= 3) {
                      // æ™´å¤©/å¤šäº‘
                      iconElement.classList.add('fas', 'fa-sun', 'text-yellow-400');
                      document.getElementById('weather-desc').textContent = "æ™´æœ—";
                  } else if (code >= 45 && code <= 48) {
                      // é›¾
                      iconElement.classList.add('fas', 'fa-fog', 'text-fog-400');
                      document.getElementById('weather-desc').textContent = "æœ‰é›¾";
                  } else if ((code >= 51 && code <= 67) || (code >= 80 && code <= 82)) {
                      // é›¨
                      iconElement.classList.add('fas', 'fa-cloud-rain', 'text-fog-500');
                      document.getElementById('weather-desc').textContent = "æœ‰é›¨";
                  } else if (code >= 71 && code <= 77) {
                      // é›ª
                      iconElement.classList.add('fas', 'fa-snowflake', 'text-blue-200');
                      document.getElementById('weather-desc').textContent = "æœ‰é›ª";
                  } else if (code >= 95 && code <= 99) {
                      // é›·é›¨
                      iconElement.classList.add('fas', 'fa-bolt', 'text-purple-400');
                      document.getElementById('weather-desc').textContent = "é›·æš´";
                  } else {
                      // é»˜è®¤
                      iconElement.classList.add('fas', 'fa-cloud', 'text-fog-400');
                      document.getElementById('weather-desc').textContent = "å¤šäº‘";
                  }
              }
              // å¾…åŠäº‹é¡¹åŠŸèƒ½
              function initTodoList() {
                  const todoList = document.getElementById('todo-list');
                  const newTaskInput = document.getElementById('new-task-input');
                  const addTaskBtn = document.getElementById('add-task-btn');
                  const taskCount = document.getElementById('task-count');

                  // ä»localStorageåŠ è½½ä»»åŠ¡
                  loadTasks();

                  // æ·»åŠ ä»»åŠ¡æŒ‰é’®ç‚¹å‡»äº‹ä»¶
                  addTaskBtn.addEventListener('click', addTask);

                  // è¾“å…¥æ¡†å›è½¦äº‹ä»¶
                  newTaskInput.addEventListener('keypress', (e) => {
                      if (e.key === 'Enter') {
                          addTask();
                      }
                  });

                  // æ›´æ–°ä»»åŠ¡è®¡æ•°
                  updateTaskCount();

                  function addTask() {
                      const taskText = newTaskInput.value.trim();
                      if (taskText) {
                          const task = {
                              id: Date.now().toString(),
                              text: taskText,
                              completed: false
                          };

                          // ä¿å­˜åˆ°localStorage
                          saveTask(task);

                          // æ·»åŠ åˆ°DOM
                          renderTask(task);

                          // æ¸…ç©ºè¾“å…¥æ¡†
                          newTaskInput.value = '';

                          // æ›´æ–°è®¡æ•°
                          updateTaskCount();
                      }
                  }

                  function saveTask(task) {
                      const tasks = getTasksFromStorage();
                      tasks.push(task);
                      localStorage.setItem('todos', JSON.stringify(tasks));
                  }

                  function getTasksFromStorage() {
                      const tasksJson = localStorage.getItem('todos');
                      return tasksJson ? JSON.parse(tasksJson) : [];
                  }

                  function loadTasks() {
                      const tasks = getTasksFromStorage();
                      todoList.innerHTML = '';

                      if (tasks.length === 0) {
                          todoList.innerHTML = `








      <div class="text-center text-fog-400 text-sm py-8">
        <i class="fas fa-clipboard-list text-2xl mb-2 block">
        </i>
        æš‚æ— å¾…åŠäº‹é¡¹
      </div>








      `;
                          return;
                      }

                      tasks.forEach(task => {
                          renderTask(task);
                      });
                  }

                  function renderTask(task) {
                      const taskElement = document.createElement('div');
                      taskElement.className = `flex items-center p-2 rounded-lg hover:bg-fog-50 transition-colors ${task.completed ? 'opacity-60' : ''}`;
                      taskElement.dataset.taskId = task.id;

                      taskElement.innerHTML = `








      <div class="flex items-center flex-1">
        <input type="checkbox" class="task-checkbox w-4 h-4 rounded border-fog-300 text-fog-600 focus:ring-fog-400" ${task.completed ? 'checked' : ''}>
          <span class="ml-3 text-sm text-fog-700 ${task.completed ? 'line-through text-fog-400' : ''}">${escapeHTML(task.text)}</span>
          </div>
          <button class="delete-task text-fog-400 hover:text-fog-600 p-1">
            <i class="fas fa-times">
            </i>
          </button>








        `;

                      // æ·»åŠ äº‹ä»¶ç›‘å¬
                      const checkbox = taskElement.querySelector('.task-checkbox');
                      checkbox.addEventListener('change', () => toggleTaskCompletion(task.id));

                      const deleteBtn = taskElement.querySelector('.delete-task');
                      deleteBtn.addEventListener('click', () => deleteTask(task.id));

                      todoList.appendChild(taskElement);
                  }

                  function toggleTaskCompletion(taskId) {
                      const tasks = getTasksFromStorage();
                      const taskIndex = tasks.findIndex(task => task.id === taskId);

                      if (taskIndex !== -1) {
                          tasks[taskIndex].completed = !tasks[taskIndex].completed;
                          localStorage.setItem('todos', JSON.stringify(tasks));

                          // æ›´æ–°UI
                          const taskElement = todoList.querySelector(`[data-task-id="${taskId}"]`);
                          const taskText = taskElement.querySelector('span');

                          if (tasks[taskIndex].completed) {
                              taskText.classList.add('line-through', 'text-fog-400');
                              taskElement.classList.add('opacity-60');
                          } else {
                              taskText.classList.remove('line-through', 'text-fog-400');
                              taskElement.classList.remove('opacity-60');
                          }
                      }
                  }

                  function deleteTask(taskId) {
                      const tasks = getTasksFromStorage();
                      const updatedTasks = tasks.filter(task => task.id !== taskId);
                      localStorage.setItem('todos', JSON.stringify(updatedTasks));

                      // ä»DOMä¸­ç§»é™¤
                      const taskElement = todoList.querySelector(`[data-task-id="${taskId}"]`);
                      if (taskElement) {
                          taskElement.classList.add('opacity-0');
                          setTimeout(() => {
                              taskElement.remove();
                              updateTaskCount();

                              // å¦‚æœæ²¡æœ‰ä»»åŠ¡äº†ï¼Œæ˜¾ç¤ºç©ºçŠ¶æ€
                              if (updatedTasks.length === 0) {
                                  loadTasks();
                              }
                          }, 300);
                      }
                  }

                  function updateTaskCount() {
                      const tasks = getTasksFromStorage();
                      const activeTasks = tasks.filter(task => !task.completed).length;
                      taskCount.textContent = `${activeTasks}é¡¹`;
                  }

                  function escapeHTML(text) {
                      const div = document.createElement('div');
                      div.textContent = text;
                      return div.innerHTML;
                  }
              }
              // å¿«é€Ÿç¬”è®°åŠŸèƒ½
              function initQuickNote() {
                  const noteTextarea = document.getElementById('quick-note');
                  const saveStatus = document.getElementById('save-status');

                  // ä»localStorageåŠ è½½ç¬”è®°
                  const savedNote = localStorage.getItem('quickNote');
                  if (savedNote) {
                      noteTextarea.value = savedNote;
                  }

                  // é˜²æŠ–ä¿å­˜å‡½æ•°
                  let saveTimeout;
                  noteTextarea.addEventListener('input', () => {
                      // æ˜¾ç¤ºä¿å­˜ä¸­çŠ¶æ€
                      saveStatus.textContent = 'ä¿å­˜ä¸­...';
                      saveStatus.className = 'text-fog-600';

                      // æ¸…é™¤ä¹‹å‰çš„è¶…æ—¶
                      clearTimeout(saveTimeout);

                      // è®¾ç½®æ–°çš„è¶…æ—¶
                      saveTimeout = setTimeout(() => {
                          localStorage.setItem('quickNote', noteTextarea.value);
                          saveStatus.textContent = 'å·²ä¿å­˜';
                          saveStatus.className = 'text-fog-400';
                      }, 1000);
                  });
              }
      // ä¸“æ³¨æ—¶é—´ï¼ˆç•ªèŒ„é’Ÿï¼‰åŠŸèƒ½
              function initFocusTimer() {
                  const minutesElement = document.getElementById('timer-minutes');
                  const secondsElement = document.getElementById('timer-seconds');
                  const startBtn = document.getElementById('start-timer');
                  const pauseBtn = document.getElementById('pause-timer');
                  const resetBtn = document.getElementById('reset-timer');

                  let totalSeconds = 45 * 60; // 45åˆ†é’Ÿ
                  let timerInterval = null;
                  let isRunning = false;

                  function updateTimerDisplay() {
                      const minutes = Math.floor(totalSeconds / 60);
                      const seconds = totalSeconds % 60;

                      minutesElement.textContent = minutes.toString().padStart(2, '0');
                      secondsElement.textContent = seconds.toString().padStart(2, '0');

                      // æ—¶é—´ç»“æŸæ—¶æé†’
                      if (totalSeconds <= 0) {
                          clearInterval(timerInterval);
                          isRunning = false;
                          startBtn.disabled = false;
                          pauseBtn.disabled = true;
                          playAlarm();
                      }
                  }

                  function playAlarm() {
                      // åˆ›å»ºéŸ³é¢‘ä¸Šä¸‹æ–‡æ’­æ”¾æç¤ºéŸ³
                      try {
                          const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                          const oscillator = audioContext.createOscillator();
                          const gainNode = audioContext.createGain();

                          oscillator.connect(gainNode);
                          gainNode.connect(audioContext.destination);

                          oscillator.type = 'sine';
                          oscillator.frequency.setValueAtTime(880, audioContext.currentTime);
                          gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);

                          oscillator.start();
                          oscillator.stop(audioContext.currentTime + 0.5);
                      } catch (e) {
                          console.log("æ— æ³•æ’­æ”¾æç¤ºéŸ³:", e);
                          alert("ä¸“æ³¨æ—¶é—´ç»“æŸï¼");
                      }
                  }

                  startBtn.addEventListener('click', () => {
                      if (!isRunning) {
                          isRunning = true;
                          startBtn.disabled = true;
                          pauseBtn.disabled = false;

                          timerInterval = setInterval(() => {
                              if (totalSeconds > 0) {
                                  totalSeconds--;
                                  updateTimerDisplay();
                              } else {
                                  clearInterval(timerInterval);
                                  isRunning = false;
                                  startBtn.disabled = false;
                                  pauseBtn.disabled = true;
                              }
                          }, 1000);
                      }
                  });

                  pauseBtn.addEventListener('click', () => {
                      clearInterval(timerInterval);
                      isRunning = false;
                      startBtn.disabled = false;
                      pauseBtn.disabled = true;
                  });

                  resetBtn.addEventListener('click', () => {
                      clearInterval(timerInterval);
                      isRunning = false;
                      totalSeconds = 45 * 60;
                      updateTimerDisplay();
                      startBtn.disabled = false;
                      pauseBtn.disabled = true;
                  });

                  // åˆå§‹åŒ–æ˜¾ç¤º
                  updateTimerDisplay();
              }

              // è®¡ç®—å™¨åŠŸèƒ½
              function initCalculator() {
                  const display = document.getElementById('calculator-display');
                  const buttons = document.querySelectorAll('.calc-btn');
                  const clearBtn = document.getElementById('clear-calculator');

                  buttons.forEach(button => {
                      button.addEventListener('click', () => {
                          const value = button.dataset.value;

                          if (value === '=') {
                              try {
                                  // ä½¿ç”¨evalè®¡ç®—ç»“æœï¼Œå®é™…åº”ç”¨ä¸­åº”ä½¿ç”¨æ›´å®‰å…¨çš„è®¡ç®—æ–¹å¼
                                  let result = eval(display.value.replace('Ã—', '*').replace('Ã·', '/'));
                                  display.value = result;
                              } catch (e) {
                                  display.value = 'é”™è¯¯';
                              }
                          } else {
                              if (display.value === '0' || display.value === 'é”™è¯¯') {
                                  display.value = value;
                              } else {
                                  display.value += value;
                              }
                          }
                      });
                  });

                  clearBtn.addEventListener('click', () => {
                      display.value = '0';
                  });

      // åˆå§‹åŒ–æ˜¾ç¤º
                  display.value = '0';

                  // è®¡ç®—å™¨æŠ˜å åŠŸèƒ½
                  const toggleBtn = document.getElementById('toggle-calculator');
                  const calculatorContent = document.getElementById('calculator-content');
                  const calculatorIcon = document.getElementById('calculator-icon');
                  let isExpanded = true;

                  toggleBtn.addEventListener('click', () => {
                      isExpanded = !isExpanded;

                      if (isExpanded) {
                          calculatorContent.style.display = 'block';
                          calculatorIcon.classList.remove('fa-chevron-up');
                          calculatorIcon.classList.add('fa-chevron-down');
                      } else {
                          calculatorContent.style.display = 'none';
                          calculatorIcon.classList.remove('fa-chevron-down');
                          calculatorIcon.classList.add('fa-chevron-up');
                      }
                  });
              }
    </script>
  </body>
</html>
